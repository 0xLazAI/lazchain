# Release Document

## Download Hyperion Docker Image
Run the following script command to pull the Hyperion docker image:
```bash
docker pull [Hyperion_image_link]
```

## Download Malaketh-Layered Docker Image
Use the following script command to download the malaketh-layered docker image:
```bash
docker pull [malaketh-layered_image_link]
```

## Download and Modify add_peers Script
1. Download the add_peers script from the following link: [add_peers_script_link]
2. Open the downloaded script with a text editor.
3. Locate the line where "MyPeerIp" is defined.
4. Replace the existing value with your actual peer IP address.
5. Save the modified script.

## Download Configuration Files and Place Them
1. Download the relevant configuration files from: [configuration_files_link]
2. Create the directory `/data/metis` if it does not exist:
   ```bash
   mkdir -p /data/metis
   ```
3. Move all the downloaded configuration files to the `/data/metis` directory.

## Download assets/jwtsecret and Place It
1. Download `assets/jwtsecret` from: [jwtsecret_link]
2. Ensure the `/data/metis` directory exists (created in the previous step if not).
3. Move the downloaded `jwtsecret` file to the `/data/metis` directory:
   ```bash
   mv jwtsecret /data/metis/
   ```

## Modify config.toml Configuration File
1. Navigate to the `/data/metis/nodes/config` directory:
   ```bash
   cd /data/metis/nodes/config
   ```
2. Open the `config.toml` file with a text editor.
3. Find the `[consensus.p2p]` section.
4. Locate the listening port configuration item within this section.
5. Modify the port number to the desired value for consensus p2p connections.
6. Save the changes to the `config.toml` file.

## Modify app_config.toml Configuration File
1. In the `/data/metis/nodes/config` directory, open `app_config.toml` with a text editor.
2. **engine_url**: Set it to the IP/Port of the started engine node, which corresponds to `--authrpc.port` in `compose-metis.yaml`. (Default value can be used if appropriate)
3. **eth_url**: Set it to the IP/Port of the engine node's rpc service, corresponding to `--http.port` in `compose-metis.yaml`. (Default value can be used if appropriate)
4. **wt_path**: Set it to the downloaded `assets` directory, which corresponds to the `volumes` mapping directory in `compose-metis.yaml`. (Default value can be used if appropriate)
5. Save the modifications to `app_config.toml`.

## Download and Place Compose Files
1. Download `compose-metis.yaml` from: [compose-metis_link]
2. Download `compose-mala.yaml` from: [compose-mala_link]
3. Move both downloaded files to the `/data/metis` directory:
   ```bash
   mv compose-metis.yaml compose-mala.yaml /data/metis/
   ```

## Modify Compose Files
1. Navigate to the `/data/metis` directory:
   ```bash
   cd /data/metis
   ```
2. **compose-metis.yaml**:
   - Modify the service names as needed.
   - Ensure that the ports and volumes in the file are consistent with the corresponding configuration items.
3. **compose-mala.yaml**:
   - Modify the service names as needed.
   - Ensure that the ports and volumes in the file are consistent with the corresponding configuration items.
4. Save the modified compose files.

## Start Metis Engine Node
Run the following command in the `/data/metis` directory:
```bash
docker compose -f compose-metis.yaml up -d
```

## Start Metis Consensus Node
Run the following command in the `/data/metis` directory:
```bash
docker compose -f compose-mala.yaml up -d
```
